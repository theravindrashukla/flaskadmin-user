 <html>
<head>
<style>
table {
  width:100%;
}
table, th, td {
  border: 1px solid black;
  border-collapse: collapse;
}
th, td {
  padding: 15px;
  text-align: left;
}
table#t01 tr:nth-child(even) {
  background-color: #eee;
}
table#t01 tr:nth-child(odd) {
 background-color: #fff;
}
table#t01 th {
  background-color: black;
  color: white;
}
</style>
</head

   <body>

      <div>Hi {{user1}}</div>
      <br></br>
      <div>
         <input id="search"></input> <button id="search_button" onclick="myFunction()">Search</button>&nbsp;&nbsp;
         <b>Sort_By</b>
<select id="sortby" onchange="myFunction()">
  <option>popular-low</option>
  <option>popular-high</option>
  <option>score-low</option>
  <option>score-high</option>
</select>
&nbsp;&nbsp;
         <b>Category</b>
<select id="category" onchange="myFunction()">
{{sele|safe}}
</select>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="/adminview"><b>Admin</b></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="/logout"><b>Logout</b></a>
            
      </div>
<br></br>
<div id="show_all">{{data|safe}}</div>
   </body>
<script>
function myFunction() {
  var x = document.getElementById("category").value;
var y = document.getElementById("sortby").value;
var z = document.getElementById("search").value;
  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
      document.getElementById("show_all").innerHTML = this.responseText;
    }
  };
  xhttp.open("POST", "/query", true);
xhttp.setRequestHeader('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');
  xhttp.send("search_word="+z+"&sort_by="+y+"&category="+x);

}
</script>
</html>